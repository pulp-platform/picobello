[
    <% N_BATCHES = 8 %>
    <% N_REPEATS = 2 %>

    % for row in range(0, 4):
        // for easternmost column, only DMA core
        {
            "thread": "${f'hart_{3*36+row*9+9}'}",
            "roi": [
                % for iter in range(0, N_REPEATS):
                    % for i in range(0, N_BATCHES):
                        {"idx": ${18 * iter + 2 * i + 2}, "label": "${f'd_{i}_{iter}'}"},
                    % endfor
                % endfor
            ]
        },

        // for middle columns
        % for col in range(2,0,-1):
            // Compute cores
            % for core in range(0, 8):
            {
                "thread": "${f'hart_{col*36+row*9+core+1}'}",
                "roi": [
                    % for iter in range(0, N_REPEATS):
                        % for i in range(0, N_BATCHES):
                            {"idx": ${18 * iter + 2 * i + 2}, "label": "${f'c_{i}_{iter}'}"},
                        % endfor
                    % endfor
                ]
            },
            % endfor
            // DMA core
            {
                "thread": "${f'hart_{col*36+row*9+9}'}",
                "roi": [
                    % for iter in range(0, N_REPEATS):
                        % for i in range(0, N_BATCHES):
                            {"idx": ${18 * iter + 2 * i + 2}, "label": "${f'd_{i}_{iter}'}"},
                        % endfor
                    % endfor
                ]
            },
        % endfor
    
        // for westernmost column
        % if row != 0:
            // DMA core
            {
                "thread": "${f'hart_{row*9+9}'}",
                "roi": [
                    % for iter in range(0, N_REPEATS):
                        % for i in range(0, N_BATCHES):
                            {"idx": ${18 * iter + 2 * i + 2}, "label": "${f'd2_{i}_{iter}'}"},
                        % endfor
                    % endfor
                ]
            },
        % endif
        // Compute cores
        % for core in range(0, 8):
        {
            "thread": "${f'hart_{row*9+core+1}'}",
            "roi": [
                % for iter in range(0, N_REPEATS):
                    % for i in range(0, N_BATCHES):
                        % if row == 3:
                            {"idx": ${18 * iter + 2 * i + 2}, "label": "${f'c_{i}_{iter}'}"},
                        % else:
                            {"idx": ${34 * iter + 2 * i + 2}, "label": "${f'c_{i}_{iter}'}"},
                            {"idx": ${34 * iter + 2 * N_BATCHES + 2 * i + 2}, "label": "${f'c2_{i}_{iter}'}"},
                        % endif

                    % endfor
                % endfor
            ]
        },
        % endfor
    % endfor
]
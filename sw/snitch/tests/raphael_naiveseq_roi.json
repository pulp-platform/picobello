[
    <% N_REPEATS = 3 %>
    <% N_STAGES = 32 %>

    % for j in range(0, 8):
    {
        "thread": "${f'hart_{15*9+j+1}'}",
        "roi": [
        % for i in range(0, N_REPEATS):
            % for k in range (0, N_STAGES-1):
                {"idx": ${i * (N_STAGES + 2) + k + 2}, "label": "${f'{k}tile_repeat{i}'}"},
            % endfor
            {"idx": ${i * (N_STAGES + 2) + N_STAGES + 1}, "label": "${f'{N_STAGES-1}tile_repeat{i}'}"},
        % endfor
        ]
    },
    % endfor
    % for cluster in range(0,16):
        // // Compute cores
        // % for j in range(0, 8):
        // {
        //     "thread": "${f'hart_{cluster*9+j+1}'}",
        //     "roi": [
        //     % for i in range(0, N_REPEATS):
        //         % for k in range (0, N_STAGES-1):
        //             {"idx": ${i * (N_STAGES + 2) + k + 2}, "label": "${f'tile_reduction_{k+1}_repeat_{i}'}"},
        //         % endfor
        //         {"idx": ${i * (N_STAGES + 2) + N_STAGES + 1}, "label": "${f'tile_reduction_{N_STAGES}_repeat_{i}'}"},
        //     % endfor
        //     ]
        // },
        // % endfor

        // DMA core
        {

            "thread": "${f'hart_{cluster*9+9}'}",
            "roi": [
                % for i in range(0, N_REPEATS):
                    {"idx": ${i * (N_STAGES + 2) + 1}, "label": "${f'{0}dma_repeat{i}'}"},
                    % for k in range (0, N_STAGES-1):
                        {"idx": ${i * (N_STAGES + 2) + k + 2}, "label": "${f'{k+1}dma_repeat{i}'}"},
                    % endfor
                % endfor
            ]
        },
    % endfor

]
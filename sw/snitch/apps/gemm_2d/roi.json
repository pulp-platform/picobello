[
    <% N_TILES = 4 %>

    % for cluster in range(0,15):
        // Compute cores
        % for j in range(0, 8):
        {
            "thread": "${f'hart_{cluster * 9 + j + 1}'}",
            "roi": [
            % for i in range(0, N_TILES):
                {"idx": ${2 * i + 1}, "label": "${f'tile_{i}'}"},
            % endfor
            ]
        },
        % endfor

        // DMA core
        {
            "thread": "${f'hart_{cluster * 9 + 8 + 1}'}",
            "roi": [
                {"idx": 1, "label": "${f'tile_in_0'}"},
                // {"idx": 3, "label": "${f'tile_in_1'}"},
                // {"idx": 7, "label": "${f'tile_in_2'}"},
                // {"idx": 11, "label": "${f'tile_in_3'}"},
                % for i in range(0, N_TILES - 1):
                    {"idx": ${4*i + 3}, "label": "${f'tile_in_{i+1}'}"},
                    {"idx": ${4*i + 5}, "label": "${f'tile_out_{i}'}"},
                % endfor
                // {"idx": 5, "label": "${f'tile_out_0'}"},
                // {"idx": 9, "label": "${f'tile_out_1'}"},
                // {"idx": 13, "label": "${f'tile_out_2'}"},
                {"idx": 15, "label": "${f'tile_out_{N_TILES-1}'}"},
            ]
        },
    % endfor
]
